# エラーの扱い

## ErrHnandleクラス(lib/ErrHandle.py)

クラス `ErrHandle` では、クローリング処理の実行中に発生したエラーを `db/main.db`の`errorTable`に記録します。(この設定はクラス内に記述されています)  

### エラーの形式とテーブルのSQL

エラー内容の多くは`[発生元クラス]:[エラーメッセージ]`の形式で格納されます。カラム`errorTime`はエラーが発生した時間がUNIXTIMEで記録されています。  

### エラーを追加する

エラーは関数 `addError(message)` で追加できます。追加のタイミングに制限はありませんが、 `try ~ except` 句の中で発生したエラーを追加するとデバッグ時の探索が容易になります。  

### エラーを確認する

追加したエラーは `main.db` を確認するか、`db/error.bat` を実行することで閲覧できます。  
直近20件のエラーが標準出力に吐き出されます。  